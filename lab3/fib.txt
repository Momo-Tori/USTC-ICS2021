LD R5, MODNUMBER
ADD R1, R1, #1 ; F[0] = 1
ADD R2, R2, #1 ; F[1] = 1
ADD R3, R3, #2 ; F[2] = 2
ADD R6, R6, #1 ;
ADD R0, R0, #-2 ;
BRn FINISH1
BRz FINISH2
LOOP
     AND R6, R6, R4
     ADD R7, R3, R1
     ADD R7, R7, R1
     AND R7, R7, R5
     ADD R1, R2, #0
     ADD R2, R3, #0
     ADD R3, R7, #0
     ADD R0, R0, #-1
BRNP LOOP
FINISH1 ADD R7, R7, R6
         HALT
FINISH2  ADD R7, R7, #2
         HALT
ADD R3, R7, #0
MODNUMBER .FILL #1023
fa .FILL #930
fb .FILL #1
fc .FILL #1
fd .FILL #290